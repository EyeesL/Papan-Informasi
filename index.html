<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="src/output.css" rel="stylesheet" />
    <title>Document</title>
    <style>
      /* Custom animation untuk running text */
      .marquee {
        white-space: nowrap;
        overflow: hidden;
        box-sizing: border-box;
      }

      .marquee span {
        display: inline-block;
        padding-left: 100%;
        animation: marquee 15s linear infinite;
      }

      @keyframes marquee {
        0% {
          transform: translate(0, 0);
        }
        100% {
          transform: translate(-100%, 0);
        }
      }

      /* Animasi untuk Slider */
      @keyframes fade {
        0% {
          opacity: 0;
        }
        100% {
          opacity: 1;
        }
      }

      /* Hover effect untuk card */
      .card:hover {
        transform: scale(1.05);
        transition: transform 0.3s ease-in-out;
      }
    </style>
  </head>
  <body class="">
    <div class="h-screen flex flex-col">
      <div class="flex flex-1 overflow-hidden">
        <!-- Sidebar -->
        <aside
          class="w-[400px] bg-white text-blacks flex flex-col items-center py-6 space-y-6 overflow-y-auto sticky top-0"
        >
          <!-- Logo -->
          <img
            src="img/logo-fpsd.png"
            alt="Logo"
            class="h-16 w-auto mb-4 transform hover:scale-110 transition-transform duration-300"
          />

          <!-- Kalender & Jam -->
          <div
            id="dateTimeCard"
            class="bg-gray-100 rounded-2xl p-10 w-11/12 mx-auto mt-6 relative shadow-lg"
          >
            <!-- Bulatan kecil pojok kiri atas -->
            <div
              class="absolute top-4 left-4 w-6 h-6 bg-red-800 rounded-full"
            ></div>

            <!-- Konten center -->
            <div class="flex flex-col items-center">
              <!-- Icon Jam + Jam -->
              <div class="flex items-center mb-2">
                <p id="time" class="ml-2 text-4xl font font-bold text-black">
                  00:00:00
                </p>
              </div>

              <!-- Icon Kalender + Tanggal -->
              <div class="flex items-center">
                <!-- <img
                  src="img/calendar.png"
                  alt="Calendar Icon"
                  class="h-6 w-6"
                /> -->
                <p id="date" class="ml-2 text-sm text-black">
                  Loading tanggal‚Ä¶
                </p>
              </div>
            </div>
          </div>

          <!-- Card Cuaca Bandung (sederhana) -->
          <div
            id="weatherCard"
            class="bg-gray-100 rounded-2xl p-6 w-11/12 max-w-sm mx-auto mt-6 relative shadow-lg"
          >
            <!-- Bulatan kecil pojok kiri atas -->
            <div
              class="absolute top-4 left-4 w-6 h-6 bg-white rounded-full"
            ></div>

            <!-- Konten center: suhu, kota, kondisi -->
            <div class="flex flex-col items-center">
              <p id="temp" class="text-5xl font-bold text-black mb-1">--¬∞C</p>
              <p class="text-base font-semibold text-black mb-1">Bandung</p>
              <p id="condition" class="text-sm text-black">Memuat‚Ä¶</p>
            </div>
          </div>

          <!-- Countdown Event -->
          <div class="bg-white rounded-xl p-4 shadow-lg w-11/12 card">
            <h2 class="text-lg font-semibold mb-2 flex items-center">
              ‚è≥ <span class="ml-2">Countdown Acara</span>
            </h2>
            <div
              id="countdown"
              class="text-center font-mono text-xl text-gray-800"
            ></div>
          </div>

          <!-- Berita Terbaru -->
          <div class="bg-white rounded-xl p-4 shadow-lg w-11/12 card mb-6">
            <h2 class="text-lg font-semibold mb-2 flex items-center">
              üì∞ <span class="ml-2">Berita Terbaru</span>
            </h2>
            <ul class="text-sm list-disc list-inside space-y-1 text-gray-800">
              <li>Pengumuman lomba seni.</li>
              <li>Pameran fakultas bulan Agustus.</li>
              <li>Workshop kreatif digital.</li>
            </ul>
          </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 flex flex-col overflow-hidden">
          <!-- Navbar -->
          <nav class="bg-white flex items-start px-6 py-4 relative shadow">
            <span class="text-xl text-black font-bold text-center">
              Papan Informasi Fakultas Pendidikan Seni dan Desain
            </span>
          </nav>

          <!-- Slider (rounded corners) -->
          <div class="flex-1 relative bg-black rounded-2xl overflow-hidden m-4">
            <div id="slider" class="w-full h-full relative">
              <img
                src="img/foto1.png"
                class="w-full h-full object-cover absolute inset-0 opacity-100 transition-opacity duration-1000"
                style="animation: fade 2s"
              />
              <img
                src="img/foto2.jpg"
                class="w-full h-full object-cover absolute inset-0 opacity-0 transition-opacity duration-1000"
                style="animation: fade 2s"
              />
              <img
                src="img/foto3.png"
                class="w-full h-full object-cover absolute inset-0 opacity-0 transition-opacity duration-1000"
                style="animation: fade 2s"
              />
              <img
                src="img/foto4.png"
                class="w-full h-full object-cover absolute inset-0 opacity-0 transition-opacity duration-1000"
                style="animation: fade 2s"
              />
              <img
                src="img/gallery1.jpg"
                class="w-full h-full object-cover absolute inset-0 opacity-0 transition-opacity duration-1000"
                style="animation: fade 2s"
              />
            </div>
          </div>
          <!-- Base Text Section: 2 kolom di bawah -->
          <div class="mb-4 grid grid-cols-2 px-6">
            <p class="text-base">Powered by Isola Digital Media</p>
            <p class="text-base text-right">
              Gd. A FPSD UPI, Jl. Dr. Setiabudi No.229, Isola, Kec. Sukasari,
              Kota Bandung.
            </p>
          </div>
          <!-- Running Text -->
          <div class="bg-yellow-500 text-black py-2">
            <div class="marquee">
              <span
                >Pengumuman: Pendaftaran lomba ditutup pada tanggal 30 Juli
                2025! || Update: Maintenance server tanggal 1 Agustus 2025
                ||</span
              >
            </div>
          </div>
        </main>
      </div>
    </div>

    <!-- Scripts -->
    <script>
      // Slider
      const slides = document.querySelectorAll("#slider img");
      let current = 0;
      setInterval(() => {
        slides[current].classList.remove("opacity-100");
        slides[current].classList.add("opacity-0");
        current = (current + 1) % slides.length;
        slides[current].classList.remove("opacity-0");
        slides[current].classList.add("opacity-100");
      }, 5000); // 5 detik

      // Update jam + tanggal sekaligus tiap detik
      function updateDateTime() {
        const now = new Date();

        // format jam: HH:mm:ss
        const h = String(now.getHours()).padStart(2, "0");
        const m = String(now.getMinutes()).padStart(2, "0");
        const s = String(now.getSeconds()).padStart(2, "0");
        document.getElementById("time").textContent = `${h}:${m}:${s}`;

        // format tanggal: Hari, DD Month YYYY
        const options = {
          weekday: "long",
          day: "numeric",
          month: "long",
          year: "numeric",
        };
        document.getElementById("date").textContent = now.toLocaleDateString(
          "id-ID",
          options
        );
      }

      // panggil langsung & interval
      updateDateTime();
      setInterval(updateDateTime, 1000);

      // Countdown
      const eventDate = new Date("2025-08-05T09:00:00");
      function updateCountdown() {
        const now = new Date();
        const diff = eventDate - now;
        if (diff > 0) {
          const days = Math.floor(diff / (1000 * 60 * 60 * 24));
          const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
          const minutes = Math.floor((diff / (1000 * 60)) % 60);
          const seconds = Math.floor((diff / 1000) % 60);
          document.getElementById(
            "countdown"
          ).textContent = `${days}h ${hours}j ${minutes}m ${seconds}d`;
        } else {
          document.getElementById("countdown").textContent = "Acara Dimulai!";
        }
      }
      setInterval(updateCountdown, 1000);
      updateCountdown();

      // Random Quote
      const quotes = [
        "Seni adalah jendela jiwa.",
        "Kreativitas adalah kecerdasan yang bersenang-senang. - Einstein",
        "Desain bukan hanya tentang bagaimana terlihat, tapi bagaimana bekerja. - Steve Jobs",
      ];
      document.getElementById("quote").textContent =
        quotes[Math.floor(Math.random() * quotes.length)];
    </script>

    <script>
      const tempEl = document.getElementById("temp");
      const condEl = document.getElementById("condition");

      // Mapping kode cuaca Open-Meteo ‚Üí teks Indo
      const kodeCuaca = {
        0: "Cerah",
        1: "Berawan",
        2: "Banyak Awan",
        3: "Mendung",
        45: "Kabut",
        48: "Kabut Beku",
        51: "Gerimis",
        53: "Gerimis",
        61: "Hujan Ringan",
        63: "Hujan Sedang",
        65: "Hujan Lebat",
        80: "Hujan Lokal",
        95: "Badai Petir",
      };

      // Koordinat Bandung
      const lat = -6.9175,
        lon = 107.6191;
      const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true&timezone=Asia/Jakarta`;

      fetch(url)
        .then((res) => {
          if (!res.ok) throw new Error("Gagal fetch cuaca");
          return res.json();
        })
        .then((data) => {
          const cw = data.current_weather;
          const suhu = cw.temperature.toFixed(0);
          const teks = kodeCuaca[cw.weathercode] || "‚Äì";
          tempEl.textContent = `${suhu}¬∞C`;
          condEl.textContent = teks;
        })
        .catch((err) => {
          console.error(err);
          condEl.textContent = "Cuaca tidak dapat dimuat.";
        });
    </script>
  </body>
</html>
